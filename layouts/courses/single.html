{{ define "main" }}
<article class="course-article" style="max-width: 1200px; margin: 0 auto; padding: 2rem 1rem;">
    
    <!-- Хлебные крошки -->
    {{ if .Site.Params.showBreadcrumbs }}
    <nav class="breadcrumbs" style="margin-bottom: 2rem;">
        <a href="/">Главная</a> > 
        <a href="/courses/">Курсы</a> > 
        <span>{{ .Title }}</span>
    </nav>
    {{ end }}

    <!-- Заголовок и метаданные -->
    <header style="margin-bottom: 3rem;">
        <h1 style="font-size: 2.5rem; margin-bottom: 1rem; margin-top: 1rem;">{{ .Title }}</h1>
        
        <div class="course-meta" style="
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 1.5rem;
            color: #FFFFE0;
            font-size: 0.95rem;
        ">
            {{ if .Params.course_code }}
            <span><strong>Код:</strong> {{ .Params.course_code }}</span>
            {{ end }}
            
            {{ if .Params.duration }}
            <span><strong>Длительность:</strong> {{ .Params.duration }}</span>
            {{ end }}
            
            {{ if .Params.level }}
            <span><strong>Уровень:</strong> {{ .Params.level }}</span>
            {{ end }}
            
            {{ if .Params.format }}
            <span><strong>Формат:</strong> {{ .Params.format }}</span>
            {{ end }}
            
            {{ if .Params.next_start }}
            <span><strong>Следующий старт:</strong> 
                {{ time.Format "02.01.2006" .Params.next_start }}
            </span>
            {{ end }}
        </div>
        
        {{ if .Params.description }}
        <div class="course-description" style="
            padding: 1.5rem;
            background: #E41E23;
            border-radius: 10px;
            border-right: 4px solid #3b82f6;
            border-bottom: 4px solid #3b82f6;
            margin-bottom: 2rem;
        ">
            {{ .Params.description }}
        </div>
        {{ end }}
    </header>

    <!-- Основное содержимое -->
    <div class="course-content">
        {{ .Content }}
    </div>

    <!-- Кнопка регистрации -->
    <div class="course-cta" style="
        text-align: center;
        margin: 3rem 0;
        padding: 2rem;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 15px;
        color: white;
    ">
        <h2 style="color: white; margin-bottom: 1rem;">Готовы начать обучение?</h2>
        <p style="margin-bottom: 2rem; opacity: 0.9;">Присоединяйтесь к следующему потоку</p>
        
        <a href="/register/?course={{ .Params.course_code }}" 
           style="
                display: inline-block;
                background: white;
                color: #764ba2;
                padding: 1rem 2rem;
                border-radius: 50px;
                text-decoration: none;
                font-weight: bold;
                font-size: 1.1rem;
                box-shadow: 0 4px 15px rgba(0,0,0,0.2);
                transition: transform 0.3s ease;
           "
           onmouseover="this.style.transform='translateY(-2px)'"
           onmouseout="this.style.transform='translateY(0)'">
            Зарегистрироваться на курс
        </a>
    </div>

</article>
{{ end }}